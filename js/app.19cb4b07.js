(function(t){function e(e){for(var o,n,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/Sofa-Market/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0315":function(t,e,a){"use strict";a("a11d")},"05aa":function(t,e,a){"use strict";a("50fb")},"0d73":function(t,e,a){},1186:function(t,e,a){},"12d4":function(t,e,a){"use strict";a("62b1")},"132b":function(t,e,a){t.exports=a.p+"img/p7.84fa473b.jpg"},1425:function(t,e,a){t.exports=a.p+"img/p4.fa9e444e.jpg"},"16d1":function(t,e,a){t.exports=a.p+"img/p15.4831be30.jpg"},"1d3c":function(t,e,a){"use strict";a("cc18")},"1f90":function(t,e,a){t.exports=a.p+"img/p5.56a90753.jpg"},2974:function(t,e,a){t.exports=a.p+"img/p10.b0007c3a.jpg"},"2b1b":function(t,e,a){"use strict";a("0d73")},"35b7":function(t,e,a){"use strict";a("4369")},4295:function(t,e,a){"use strict";a("dd85")},4369:function(t,e,a){},4478:function(t,e,a){t.exports=a.p+"img/favor.2b4119f3.png"},"48c3":function(t,e,a){"use strict";a("b12f")},"4b56":function(t,e,a){},"4b74":function(t,e,a){t.exports=a.p+"img/p3.1c68dcce.jpg"},"50fb":function(t,e,a){},"56cf":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("b64b"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=a("bc3a"),r=a.n(s),n=a("2106"),i=a.n(n),c=(a("4989"),a("77ed")),l=a.n(c),d=a("7bb1"),u=a("60d4"),p=a("4c93"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLoading?a("Loading"):t._e(),a("Alert"),a("router-view")],1)},f=[],m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"LoadingBg"},[o("img",{attrs:{src:a("f8b2"),alt:"Loading"}})])}],h=(a("0315"),a("2877")),g={},C=Object(h["a"])(g,m,_,!1,null,"0119f0a5",null),b=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alerts",class:{show:t.Alert.isShow,success:"success"==t.Alert.type,danger:"danger"==t.Alert.type}},[t._v(" "+t._s(t.Alert.content)+" ")])},P=[],w={computed:{Alert:function(){return this.$store.state.Alert}}},x=w,k=(a("94a8"),Object(h["a"])(x,y,P,!1,null,"ceeae132",null)),$=k.exports,I={components:{Loading:b,Alert:$},computed:{isLoading:function(){return this.$store.state.isLoading}}},S=I,L=(a("5c0b"),Object(h["a"])(S,v,f,!1,null,null,null)),E=L.exports,O=a("8c4f"),D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Navbar"),o("div",{staticClass:"contain"},[o("Slick"),o("div",{staticClass:"newproduct"},[o("router-link",{attrs:{to:"/categorylist?0=雙&1=人&2=座&3=沙&4=發"}},[o("section",[o("div",{staticClass:"imgbox"},[o("img",{attrs:{src:a("f030"),alt:"質感加長沙發"}})]),o("p",[t._v("雙人系列"),o("br"),o("span",[t._v("質感加長沙發")])])])]),o("router-link",{attrs:{to:"/categorylist?0=單&1=人&2=沙&3=發"}},[o("section",[o("div",{staticClass:"imgbox"},[o("img",{attrs:{src:a("16d1"),alt:"典雅單人沙發"}})]),o("p",[t._v("單人系列"),o("br"),o("span",[t._v("典雅單人沙發")])])])]),o("router-link",{attrs:{to:"/categorylist?0=三&1=人&2=座&3=沙&4=發"}},[o("section",[o("div",{staticClass:"imgbox"},[o("img",{attrs:{src:a("e0a1"),alt:"樸實而奢華沙發"}})]),o("p",[t._v("三人系列"),o("br"),o("span",[t._v("樸實而奢華沙發")])])])])],1),o("p",[t._v("產品分類")]),o("div",{staticClass:"category_card"},[o("router-link",{attrs:{to:{path:"/categorylist",query:"All"}}},[o("div",{staticClass:"imgbox",staticStyle:{border:"1px solid #d0d0d0"}},[o("p",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)","font-size":"3.5em",color:"#ababab"}},[t._v(" ALL ")])]),o("p",[t._v("全部商品")])])],1),t._l(t.categoryList,(function(e){return o("div",{key:e.id,staticClass:"category_card"},[o("router-link",{attrs:{to:{path:"/categorylist",query:e.category}}},[o("div",{staticClass:"imgbox"},[o("img",{attrs:{src:e.imgUrl,alt:e.category}})]),o("p",[t._v(t._s(e.category))])])],1)}))],2),o("Footer")],1)},j=[],M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML8mX5lDMN3dt-f47QL"}},[o("img",{attrs:{src:a("f87f"),alt:"長板沙發"}}),o("p",{},[o("span",[t._v("戶外野餐沙發")]),o("br"),t._v("長板沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iyflcI5sVGwv7UHF"}},[o("img",{attrs:{src:a("e0a1"),alt:"三人座沙發"}}),o("p",{},[o("span",[t._v("潔淨白三人沙發")]),o("br"),t._v("三人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iud8tsn8sy6Hvt-p"}},[o("img",{attrs:{src:a("4b74"),alt:"雙人座沙發"}}),o("p",{},[o("span",[t._v("復古雙人沙發")]),o("br"),t._v("雙人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3ipAT9LLeU-veiyos"}},[o("img",{attrs:{src:a("1425"),alt:"長板沙發"}}),o("p",{},[o("span",[t._v("海洋系長板沙發")]),o("br"),t._v("長板沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3ilf6hErmFkskULE2"}},[o("img",{attrs:{src:a("1f90"),alt:"雙人座沙發"}}),o("p",{},[o("span",[t._v("堆滿枕頭的沙發")]),o("br"),t._v("雙人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iVWD0gyxzRblZ8jM"}},[o("img",{attrs:{src:a("a43c"),alt:"雙人座沙發"}}),o("p",{},[o("span",[t._v("簡潔雙人沙發")]),o("br"),t._v("雙人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iPWd-7CWDkA6kLc_"}},[o("img",{attrs:{src:a("132b"),alt:"圓筒沙發"}}),o("p",{},[o("span",[t._v("優雅圓筒沙發")]),o("br"),t._v("圓筒沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iJM6mk5sU3VeJB68"}},[o("img",{attrs:{src:a("68b5"),alt:"雙人座沙發"}}),o("p",{},[o("span",[t._v("時髦雙人沙發")]),o("br"),t._v("雙人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML8mjq-qfZPZs5KH5GZ"}},[o("img",{attrs:{src:a("bc47"),alt:"雙人座沙發"}}),o("p",{},[o("span",[t._v("火爐前的沙發")]),o("br"),t._v("雙人座沙發")])])],1),o("swiper-slide",[o("router-link",{attrs:{to:"categorylist/-ML3iE-w6bLCbMEdBNP3"}},[o("img",{attrs:{src:a("2974"),alt:"單人沙發"}}),o("p",{},[o("span",[t._v("復古單人沙發")]),o("br"),t._v("單人沙發")])])],1),o("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)},A=[],N=a("7212"),F=(a("a7a3"),{name:"SwiperExampleSpaceBetween",components:{Swiper:N["Swiper"],SwiperSlide:N["SwiperSlide"]},data:function(){return{swiperOption:{speed:1200,loop:!0,autoplay:{delay:3500},pagination:{el:".swiper-pagination",clickable:!0}}}}}),q=F,T=(a("eea6"),Object(h["a"])(q,M,A,!1,null,"3ae84033",null)),U=T.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navcontain",class:{hasShadow:t.hasShadow}},[a("div",{staticClass:"contents"},[a("router-link",{attrs:{to:"/"}},[a("h1",[t._v("SOFA")])]),a("div",{staticClass:"icon_group"},[a("div",{staticClass:"iconbox"},[a("router-link",{attrs:{to:"/favorite"}},[a("i",{staticClass:"fas fa-heart"}),a("span",{staticClass:"tooltips"},[t._v("願望清單")])]),t.LocalId&&0!==t.LocalId.length?a("span",[t._v(t._s(t.LocalId.length))]):t._e()],1),a("router-link",{attrs:{to:"/categorylist"}},[a("i",{staticClass:"fas fa-couch"}),a("span",{staticClass:"tooltips"},[t._v("所有商品")])]),a("router-link",{attrs:{to:"/login"}},[a("i",{staticClass:"fas fa-user"}),a("span",{staticClass:"tooltips"},[t._v("後台管理")])]),a("div",{staticClass:"iconbox",on:{mouseover:function(e){t.showcart=!0},mouseout:function(e){t.showcart=!1}}},[a("router-link",{attrs:{to:"/cart"}},[a("i",{staticClass:"fas fa-shopping-cart"})]),t.CartContent&&0!==t.CartContent.length?a("span",[t._v(t._s(t.CartContent.length))]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showcart,expression:"showcart"}],staticClass:"dialog"},[t._l(t.CartContent,(function(e){return a("div",{key:e.id,staticClass:"CartItem"},[a("img",{attrs:{src:e.product.imgUrl,alt:e.product.title}}),a("p",[t._v(" "+t._s(e.product.title)),a("br"),t._v("數量： "+t._s(e.qty)+" "+t._s(e.product.unit)+" ")]),a("button",{on:{click:function(a){return t.deleteCartProduct(e.id,e.product.title)}}},[a("i",{staticClass:"fas fa-times"})])])})),t.CartContent&&0!==t.CartContent.length?a("router-link",{attrs:{to:"/cart"}},[a("button",{staticClass:"checkout"},[t._v("前往結帳")])]):t._e(),t.CartContent&&0===t.CartContent.length?a("p",[t._v("購物車沒有東西!")]):t._e(),t.CartContent&&0===t.CartContent.length?a("router-link",{attrs:{to:"/categorylist"}},[a("button",{staticClass:"checkout"},[t._v("前往購物")])]):t._e()],2)],1)],1)],1)])},Q=[],B={data:function(){return{hasShadow:!1,showcart:!1}},created:function(){this.getCartContent(),this.$store.dispatch("getLocalStorage")},beforeMount:function(){window.addEventListener("scroll",this.handleScroll)},computed:{LocalId:function(){return this.$store.getters.LocalId},CartContent:function(){return this.$store.getters.CartContent.carts}},methods:{handleScroll:function(){window.pageYOffset>0?this.hasShadow=!0:this.hasShadow=!1},getCartContent:function(){this.$store.dispatch("getCart")},deleteCartProduct:function(t,e){var a={isShow:!0,type:"success",content:"從購物車移除 ".concat(e)};this.$store.dispatch("removeFromCart",{id:t,alertInfo:a})}}},J=B,H=(a("fa5f"),Object(h["a"])(J,K,Q,!1,null,"01bb6be2",null)),z=H.exports,R=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"contain"},[a("div",{staticClass:"left"},[a("h2",[t._v("SOFA STORE")]),a("div",{staticClass:"link"},[a("a",{attrs:{href:""}},[a("i",{staticClass:"fab fa-facebook-square"})]),a("a",{attrs:{href:""}},[a("i",{staticClass:"fab fa-instagram"})])])]),a("h3",{staticClass:"copyright"},[t._v("僅個人練習，非商用")]),a("div",{staticClass:"right"},[a("p",[t._v("06-1234567")]),a("p",[t._v("sofastore@gmail.com")]),a("p",[t._v("台南市北區沒有路87號")])])])])}],W=(a("8c1d"),{}),Z=Object(h["a"])(W,R,V,!1,null,"fe1e1c26",null),Y=Z.exports,G={components:{Slick:U,Navbar:z,Footer:Y},computed:{categoryList:function(){return this.$store.getters.Category}},created:function(){this.getProduct()},methods:{getProduct:function(){this.$store.dispatch("getAll")}}},X=G,tt=(a("2b1b"),Object(h["a"])(X,D,j,!1,null,"2185d701",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Dashboardnavbar"),a("main",{staticClass:"container ml-sm-auto p-4"},[a("router-view")],1)],1)},ot=[],st=(a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"container navbar navbar-expand-lg rounded"},[a("a",{attrs:{href:"#"}},[t._v("後台管理")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExample09"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",class:{active:"/dashboard/product"==t.nowPath},attrs:{to:"/dashboard/product"}},[t._v("產品列表")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",class:{active:"/dashboard/order"==t.nowPath},attrs:{to:"/dashboard/order"}},[t._v("訂單管理")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",class:{active:"/dashboard/coupon"==t.nowPath},attrs:{to:"/dashboard/coupon"}},[t._v("優惠券管理")])],1),a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("前台")])],1),a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.signout}},[t._v("登出")])])])])])}),rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("i",{staticClass:"fas fa-align-justify"})])}],nt={data:function(){return{nowPath:""}},watch:{$route:function(t){this.nowPath=t.fullPath}},created:function(){this.nowPath=this.$route.fullPath},methods:{signout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(e).then((function(e){e.data.success&&t.$router.push("/login")}))}}},it=nt,ct=(a("ad59"),Object(h["a"])(it,st,rt,!1,null,"48a95b84",null)),lt=ct.exports,dt={components:{Dashboardnavbar:lt},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},ut=dt,pt=(a("48c3"),Object(h["a"])(ut,at,ot,!1,null,"53407110",null)),vt=pt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal(!1)}}},[t._v(" 建立新產品 ")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.productList,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",[t._v(t._s(t._f("currency")(e.price)))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):t._e(),e.is_enabled?t._e():a("span",{staticClass:"text-danger"},[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-warning btn-sm mx-1",on:{click:function(a){return t.openModal(!0,e)}}},[t._v(" 編輯 ")]),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.opendeleteModal(e.id)}}},[t._v(" 刪除 ")])])])})),0)]),a("Pagenation",{attrs:{pages:t.paginationData},on:{getpage:t.getProduct}}),a("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imgUrl,expression:"tempProduct.imgUrl"}],staticClass:"form-control",attrs:{id:"image",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imgUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imgUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.uploadstatus?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{id:"customFile",type:"file"},on:{change:t.uploadFile}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imgUrl,img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80"}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.desc,expression:"tempProduct.desc"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.desc},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"desc",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{id:"content",type:"text",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t.tempProduct.is_enabled},on:{change:function(e){var a=t.tempProduct.is_enabled,o=e.target,s=!!o.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);o.checked?n<0&&t.$set(t.tempProduct,"is_enabled",a.concat([r])):n>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",s)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled","true-value":1,"false-value":0}},[t._v(" 是否啟用 ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.submitProduct}},[t._v(" 送出 ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct()}}},[t._v(" 確認刪除 ")])])])])])],1)},mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("分類")]),a("th",{attrs:{width:"35%"}},[t._v("產品名稱")]),a("th",{attrs:{width:"10%"}},[t._v("原價")]),a("th",{attrs:{width:"10%"}},[t._v("售價")]),a("th",{attrs:{width:"15%"}},[t._v("是否啟用")]),a("th",{attrs:{width:"15%"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header text-white",staticStyle:{background:"#99cfff"}},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],_t=(a("99af"),a("1157")),ht=a.n(_t),gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-end"},[a("li",{staticClass:"page-item",class:{disabled:0==t.pages.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"},on:{click:function(e){return e.preventDefault(),t.sendpage(t.pages.current_page-1)}}},[t._v("Previous")])]),t._l(t.pages.total_pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:e===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.sendpage(e)}}},[t._v(" "+t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:0==t.pages.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.sendpage(t.pages.current_page+1)}}},[t._v("Next")])])],2)])},Ct=[],bt={props:{pages:{type:Object,default:function(){return{}}}},methods:{sendpage:function(t){this.$emit("getpage",t)}}},yt=bt,Pt=Object(h["a"])(yt,gt,Ct,!1,null,null,null),wt=Pt.exports,xt={components:{Pagenation:wt},data:function(){return{isEdit:!1,tempProduct:{title:"",category:"",unit:"",origin_price:"",price:"",desc:"",content:"",imgUrl:"",is_enabled:!1},uploadstatus:!1,tempdelete:""}},computed:{productList:function(){return this.$store.getters.products.products},paginationData:function(){return this.$store.getters.products.pagination}},created:function(){this.getProduct()},methods:{getProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("getProduct",t)},openModal:function(t,e){var a=this;a.isEdit=t,!0===a.isEdit?a.tempProduct=e:a.tempProduct={},ht()("#productModal").modal("show")},opendeleteModal:function(t){ht()("#delProductModal").modal("show"),this.tempdelete=t},uploadFile:function(){var t=this,e=t.$refs.files.files[0],a=new FormData;a.append("file-to-upload",e),t.uploadstatus=!0;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/upload");t.$http.post(o,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.uploadstatus=!1,t.$set(t.tempProduct,"imgUrl",e.data.imageUrl)}))},submitProduct:function(){var t=this,e="post",a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/product");!0===t.isEdit&&(e="put",a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/product/").concat(t.tempProduct.id)),t.$http["".concat(e)](a,{data:t.tempProduct}).then((function(e){e.data.success&&(ht()("#productModal").modal("hide"),t.$store.dispatch("getProduct"))}))},deleteProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/product/").concat(this.tempdelete);this.$http.delete(e).then((function(e){e.data.success&&(ht()("#delProductModal").modal("hide"),t.$store.dispatch("getProduct"))}))}}},kt=xt,$t=Object(h["a"])(kt,ft,mt,!1,null,null,null),It=$t.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginbg"},[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3"},[t._v("會員登入")]),a("label",{attrs:{for:"inputEmail"}},[t._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{attrs:{for:"inputPassword"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),a("button",{staticClass:"btn btn-lg btn-block",attrs:{type:"submit"}},[t._v("登入")]),a("router-link",{staticClass:"btn btn-lg btn-block",attrs:{to:"/"}},[t._v(" 回首頁 ")])],1)])},Lt=[],Et={data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/admin/signin");t.$store.dispatch("LoadingStatus",!0),t.$http.post(e,t.user).then((function(e){if(e.data.success){var a=e.data.token,o=e.data.expired;document.cookie="hexToken=".concat(a,";expires=").concat(new Date(o),";"),t.$store.dispatch("LoadingStatus",!1),t.$router.push("/dashboard/product")}}))}}},Ot=Et,Dt=(a("35b7"),Object(h["a"])(Ot,St,Lt,!1,null,null,null)),jt=Dt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.OrderList,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(t._f("datefilter")(e.create_at)))]),a("td",[t._v(t._s(e.user.email))]),a("td",[a("ul",t._l(e.products,(function(e){return a("li",{key:e.id},[a("p",[t._v(t._s(e.product.title)+":")]),a("p",[t._v(t._s(e.qty)+" "+t._s(e.product.unit))])])})),0)]),a("td",[t._v(t._s(t._f("currency")(e.total))+" 元")]),a("td",[e.is_paid?a("span",{staticStyle:{color:"#61b861","font-weight":"600"}},[t._v("已付款")]):t._e(),e.is_paid?t._e():a("span",{staticStyle:{color:"#ff7e7e","font-weight":"600"}},[t._v("未付款")])])])})),0)]),a("Pagenation",{attrs:{pages:t.paginationData},on:{getpage:t.getOrder}})],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"20%"}},[t._v("購買時間")]),a("th",{attrs:{width:"20%"}},[t._v("Email")]),a("th",{attrs:{width:"20%"}},[t._v("購買款項")]),a("th",{attrs:{width:"20%"}},[t._v("總金額")]),a("th",{attrs:{width:"20%"}},[t._v("是否付款")])])])}],Nt={components:{Pagenation:wt},data:function(){return{OrderList:[],paginationData:{}}},created:function(){this.getOrder()},methods:{getOrder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/orders?page=").concat(t);e.$store.dispatch("LoadingStatus",!0),e.$http.get(a).then((function(t){e.paginationData=t.data.pagination,e.OrderList=t.data.orders,e.$store.dispatch("LoadingStatus",!1)}))}}},Ft=Nt,qt=(a("1d3c"),Object(h["a"])(Ft,Mt,At,!1,null,"afd488b4",null)),Tt=qt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"contain"},[t._m(0),a("div",{staticClass:"menu"},[a("ul",[a("li",{class:{active:"All"===t.categoryKey},on:{click:function(e){t.categoryKey="All"}}},[t._v(" 全部 ")]),t._l(t.categoryList,(function(e){return a("li",{key:e.id,class:{active:t.categoryKey===e.category},on:{click:function(a){t.categoryKey=e.category}}},[t._v(" "+t._s(e.category)+" ")])}))],2)]),a("div",{staticClass:"list"},[t._l(t.productList,(function(e){return a("ProductCard",{directives:[{name:"show",rawName:"v-show",value:e.category===t.categoryKey||"All"==t.categoryKey,expression:"item.category === categoryKey || categoryKey == 'All'"}],key:e.id,attrs:{productInfo:e},on:{setPreviewProduct:t.getPreviewProduct}})})),a("div",{staticClass:"productCard"}),a("div",{staticClass:"productCard"}),a("div",{staticClass:"productCard"}),a("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeIn animate__faster","leave-active-class":"animate__animated animate__fadeOut animate__faster"}},[!0===t.showPreview?a("div",{staticClass:"previewbox"},[a("div",{staticClass:"dialogBg",on:{click:function(e){t.showPreview=!1}}}),a("div",{staticClass:"dialog"},[a("i",{staticClass:"fas fa-times",on:{click:function(e){t.showPreview=!1}}}),a("PreviewModal",{attrs:{previewData:t.PreviewProduct}})],1)]):t._e()])],2)]),a("Footer")],1)},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("span",[t._v("產")]),t._v("品列表")])}],Qt=(a("a15b"),a("07ac"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productCard animate__animated animate__fadeIn"},[a("router-link",{attrs:{to:{name:"ProductInfo",params:{productid:t.productInfo.id}}}},[a("div",{staticClass:"imgbox"},[a("img",{attrs:{src:t.productInfo.imgUrl,alt:t.productInfo.title}}),t.productInfo.is_enabled?t._e():a("div",{staticClass:"soldoutbox"},[a("span",{staticClass:"soldout"},[t._v("已完售")])]),a("div",{staticClass:"linkbox"},[a("button",{on:{click:function(e){e.preventDefault(),t.previewData=t.setPreviewProduct(t.productInfo),t.showPreview=!0}}},[t._v(" 立即預覽 ")]),t.productInfo.is_enabled?a("button",{on:{click:function(e){return e.preventDefault(),t.ProductToCart(t.productInfo.id,t.productInfo.title)}}},[t._v(" 加入購物車 ")]):t._e()]),t.productInfo.is_enabled?a("div",{staticClass:"phonelinkbox"},[a("button",{on:{click:function(e){e.preventDefault(),t.previewData=t.setPreviewProduct(t.productInfo),t.showPreview=!0}}},[t._v(" 立即預覽 ")]),t.productInfo.is_enabled?a("button",{on:{click:function(e){return e.preventDefault(),t.ProductToCart(t.productInfo.id,t.productInfo.title)}}},[t._v(" 加入購物車 ")]):t._e()]):t._e()])]),a("span",{staticClass:"categorySpan"},[t._v(t._s(t._f("lastword")(t.productInfo.category)))]),a("div",{staticClass:"titlebox"},[a("router-link",{attrs:{to:{name:"ProductInfo",params:{productid:t.productInfo.id}}}},[a("p",[t._v(" "+t._s(t.productInfo.title)+" "),a("br"),t._v(" NT."+t._s(t._f("currency")(t.productInfo.price))+" ")])]),a("div",{staticClass:"right"},[a("div",{staticClass:"favor",on:{click:function(e){return t.setLocalStorage(t.productInfo.id)}}},[t.checkfavor(t.productInfo.id)?a("i",{staticClass:"fas fa-heart"}):a("i",{staticClass:"far fa-heart"})])])],1)],1)}),Bt=[],Jt=(a("c975"),a("a434"),{props:["productInfo"],data:function(){return{favor:[],previewData:{}}},computed:{CartContent:function(){return this.$store.getters.CartContent}},created:function(){this.createLocal()},methods:{setPreviewProduct:function(t){this.$emit("setPreviewProduct",t)},checkfavor:function(t){return-1!==this.favor.indexOf(t)},ProductToCart:function(t,e){var a=this.CartContent.carts.filter((function(e){return e.product_id===t}));if(0===a.length){var o={product_id:t,qty:1},s={isShow:!0,type:"success",content:"".concat(e," 加入購物車")};this.$store.dispatch("addToCart",{cartcontent:o,alertInfo:s})}else{var r={isShow:!0,type:"success",content:"".concat(e," 更改數量")},n=a[0].qty,i=a[0].id,c=n+1,l={product_id:t,qty:c};this.$store.dispatch("changeCartQty",{oldId:i,cartproduct:l,alertInfo:r})}},createLocal:function(){null==localStorage.getItem("id")?localStorage.setItem("id","[]"):this.favor=localStorage.getItem("id")},setLocalStorage:function(t){var e=this,a=[];a=JSON.parse(localStorage.getItem("id")),0===Object.values(a).length?(e.$store.dispatch("showalerts",{isShow:!0,type:"success",content:"成功加入願望"}),a.push(t)):-1!==Object.values(a).indexOf(t)?(a.splice(Object.values(a).indexOf(t),1),e.$emit("sendremoveID",t),e.$store.dispatch("showalerts",{isShow:!0,type:"success",content:"成功移除願望"})):6===Object.values(a).length?e.$store.dispatch("showalerts",{isShow:!0,type:"danger",content:"願望清單最多6筆"}):-1===Object.values(a).indexOf(t)&&(a.push(t),e.$store.dispatch("showalerts",{isShow:!0,type:"success",content:"成功加入願望"})),localStorage.setItem("id",JSON.stringify(a)),e.$store.dispatch("getLocalStorage"),e.favor=a}}}),Ht=Jt,zt=(a("bc85"),Object(h["a"])(Ht,Qt,Bt,!1,null,"51fedf7c",null)),Rt=zt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogContent"},[a("img",{attrs:{src:t.previewData.imgUrl,alt:t.previewData.title}}),a("div",{staticClass:"contents"},[a("h2",[t._v(t._s(t.previewData.title))]),t.previewData.price!==t.previewData.origin_price?a("h3",[a("span",[t._v("特價 "+t._s(t._f("currency")(t.previewData.price))+" ")]),t._v("元 ")]):t._e(),t.previewData.price!==t.previewData.origin_price?a("h4",[t._v(" 原價 "+t._s(t._f("currency")(t.previewData.origin_price))+" 元 ")]):t._e(),t.previewData.price==t.previewData.origin_price?a("h5",[t._v(" 售價 "),a("span",[t._v(t._s(t._f("currency")(t.previewData.price)))]),t._v(" 元 ")]):t._e(),a("p",[t._v(t._s(t.previewData.desc))]),a("router-link",{attrs:{to:{name:"ProductInfo",params:{productid:t.previewData.id}}}},[t._v("了解更多")])],1)])},Wt=[],Zt={props:{previewData:{type:Object,default:function(){}}}},Yt=Zt,Gt=(a("f377"),Object(h["a"])(Yt,Vt,Wt,!1,null,"ad3a6fd6",null)),Xt=Gt.exports,te={components:{Navbar:z,ProductCard:Rt,PreviewModal:Xt,Footer:Y},data:function(){return{categoryKey:"All",Category:[],PreviewProduct:{},showPreview:!1}},computed:{productList:function(){return this.$store.getters.Allproducts.products},categoryList:function(){return this.$store.getters.Category}},created:function(){this.getProduct();var t=Object.values(this.$route.query).join("");""!==t&&(this.categoryKey=t)},methods:{getPreviewProduct:function(t){this.PreviewProduct=t,this.showPreview=!0},getProduct:function(){this.$store.dispatch("getAll")}}},ee=te,ae=(a("fa19"),Object(h["a"])(ee,Ut,Kt,!1,null,"dd649c42",null)),oe=ae.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),null!==t.ProductInfo?a("div",{staticClass:"contain"},[a("div",{staticClass:"breadcrumbs"},[a("router-link",{attrs:{to:"/"}},[t._v("首頁")]),t._v(" / "),a("router-link",{attrs:{to:"/categorylist"}},[t._v("所有商品")]),t._v(" / "),a("router-link",{attrs:{to:{path:"/categorylist",query:t.ProductInfo.category}}},[t._v(" "+t._s(t.ProductInfo.category)+" ")])],1),a("div",{staticClass:"contents"},[a("div",{staticClass:"phoneimg"},[a("img",{attrs:{src:t.ProductInfo.imgUrl,alt:t.ProductInfo.title}})]),a("div",{staticClass:"left"},[a("div",{staticClass:"imgbox"},[a("img",{attrs:{src:t.ProductInfo.imgUrl,alt:t.ProductInfo.title}})]),a("p",{staticClass:"info",staticStyle:{"margin-bottom":"5vh"}},[t._v(t._s(t.ProductInfo.desc))]),t._m(0),t._m(1),t._m(2),a("h4",[t._v("網路訂購")]),a("p",{staticClass:"cont"},[t._v("立即下單，5天內到貨(不含例假日)")]),a("h4",[t._v("電話訂購")]),t._m(3),a("h4",[t._v("到店選購")]),t._m(4),t._m(5),t._m(6),t._m(7)]),a("div",{staticClass:"right"},[a("h2",[t._v(t._s(t.ProductInfo.title))]),a("h3",[t._v(t._s(t.ProductInfo.category))]),a("div",{staticClass:"price"},[a("h4",[a("span",[t._v(t._s(t._f("currency")(t.ProductInfo.price)))]),t._v("/ "+t._s(t.ProductInfo.unit)+" ")]),t.ProductInfo.origin_price!==t.ProductInfo.price?a("h6",[t._v(" 原價 "),a("br"),t._v(t._s(t._f("currency")(t.ProductInfo.origin_price))+" ")]):t._e()]),a("div",{staticClass:"flexbox"},[a("h5",[t._v("選擇數量")]),a("div",{staticClass:"selectCount"},[a("button",{on:{click:function(e){return t.calculateProductCount("less")}}},[t._v("-")]),a("span",[t._v(t._s(t.ProductCount))]),a("button",{on:{click:function(e){return t.calculateProductCount("add")}}},[t._v("+")])]),a("div",{staticClass:"phoneselect"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ProductCount,expression:"ProductCount"}],attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ProductCount=e.target.multiple?a:a[0]}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]),a("h4",{staticClass:"calc"},[t._v("小計:$ "+t._s(t.ProductInfo.price*t.ProductCount))]),t.ProductInfo.is_enabled?a("button",{staticClass:"cart",on:{click:function(e){return t.ProductToCart(t.ProductInfo.id)}}},[a("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 放入購物車 ")]):t._e(),t.ProductInfo.is_enabled?t._e():a("button",{staticClass:"cart enabled"},[a("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 補貨中 ")])]),a("div",{staticClass:"maybelove"},[a("h2",[t._v("也許你也喜歡...")]),t._l(t.maybefavor,(function(e){return a("ProductCard",{key:e.id,attrs:{productInfo:e},on:{setPreviewProduct:t.getPreviewProduct,sendremoveID:t.getremoveID}})}))],2),a("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeIn animate__faster","leave-active-class":"animate__animated animate__fadeOut animate__faster"}},[!0===t.showPreview?a("div",{staticClass:"previewbox"},[a("div",{staticClass:"dialogBg",on:{click:function(e){t.showPreview=!1}}}),a("div",{staticClass:"dialog"},[a("i",{staticClass:"fas fa-times",on:{click:function(e){t.showPreview=!1}}}),a("PreviewModal",{attrs:{previewData:t.PreviewProduct}})],1)]):t._e()])],1)]):t._e(),a("Footer")],1)},re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"disc"},[a("span",[t._v("規")]),t._v("格說明")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("tbody",[a("tr",[a("td",[t._v("尺寸"),a("span",[t._v("(公分)")])]),a("td",[t._v(" 長200 x 深95 x 高86 /"),a("br"),t._v(" 座高40 / 座深65 ")])]),a("tr",[a("td",[t._v("材質")]),a("td",[t._v("科技布、乳膠、羽絨")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"disc"},[a("span",[t._v("訂")]),t._v("購方式")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"cont"},[t._v(" 撥打服務專線 06-1234567 ，客服人員將協助訂購"),a("br"),a("span",[t._v("專線服務時間: 周一至周六 09:00 - 12:30 / 13:30 - 18:00")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"cont"},[t._v(" 到店將有專人介紹，可選擇自行運送或公司配送"),a("br"),a("span",[t._v("店面位址:台南市北區沒有路87號")]),a("br"),a("span",[t._v("營業時間:09:00 - 18:00")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"disc"},[a("span",[t._v("常")]),t._v("見問題")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"cont"},[t._v(" Q："),a("strong",[t._v("請問可以退換貨嗎?")]),a("br"),t._v(" A：商品一經使用或組裝後，恕無法辦理退換貨 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"cont"},[t._v(" Q："),a("strong",[t._v("住家入口太小能退貨嗎?")]),a("br"),t._v(" A：如配送、出入口、樓梯狹窄，請速洽線上客服，恕不接受空間限制搬運理由退換貨。 ")])}],ne=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),{components:{Navbar:z,Footer:Y,ProductCard:Rt,PreviewModal:Xt},data:function(){return{ProductInfo:null,ProductCount:1,showPreview:!1,favoriteID:[]}},computed:{maybefavor:function(){for(var t=this,e=t.$store.getters.Allproducts.products,a=[],o=new Set,s=new Set,r=0;r<4;r+=1){var n=Math.floor(Math.random()*e.length);e[n].id!==t.ProductInfo.id&&!0===e[n].is_enabled?a.push(e[n]):r-=1,a.forEach((function(t){return o.has(t)?s.add(t):o.add(t)})),3===r&&4!==o.size&&(r-=1)}return o},CartContent:function(){return this.$store.getters.CartContent}},created:function(){var t=this.$route.params.productid;this.getProductInfo(t),this.$store.dispatch("getAll")},watch:{$route:function(t){this.getProductInfo(t.params.productid)}},methods:{getProductInfo:function(t){var e=this;e.$store.dispatch("LoadingStatus",!0),e.$http.get("".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/product/").concat(t)).then((function(t){t.data.success?(e.ProductInfo=t.data.product,e.$store.dispatch("LoadingStatus",!1)):(e.$router.push("/error"),e.$store.dispatch("LoadingStatus",!1))}))},calculateProductCount:function(t){var e=this;"add"===t&&e.ProductCount<10?e.ProductCount+=1:"less"===t&&e.ProductCount>1&&(e.ProductCount-=1)},ProductToCart:function(t){var e=this,a=this.CartContent.carts.filter((function(e){return e.product_id===t}));if(0===a.length){var o={product_id:t,qty:e.ProductCount},s={isShow:!0,type:"success",content:"".concat(e.ProductInfo.title," 加入購物車")};this.$store.dispatch("addToCart",{cartcontent:o,alertInfo:s})}else{var r={isShow:!0,type:"success",content:"".concat(e.ProductInfo.title," 更改數量")},n=a[0].id,i=e.ProductCount,c={product_id:t,qty:i};this.$store.dispatch("changeCartQty",{oldId:n,cartproduct:c,alertInfo:r})}},getPreviewProduct:function(t){this.PreviewProduct=t,this.showPreview=!0},getremoveID:function(t){var e=this;this.FavoriteProduct.forEach((function(a,o){a.id===t&&e.FavoriteProduct.splice(o,1)}))}}}),ie=ne,ce=(a("ddbe"),Object(h["a"])(ie,se,re,!1,null,"00435bdc",null)),le=ce.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal(!1)}}},[t._v(" 新增優惠券 ")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.AllCoupon,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.percent))]),a("td",[t._v(t._s(e.due_date))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):t._e(),e.is_enabled?t._e():a("span",{staticClass:"text-danger"},[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-warning btn-sm mx-1",on:{click:function(a){return t.openModal(!0,e)}}},[t._v(" 編輯 ")]),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.opendeleteModal(e)}}},[t._v(" 刪除 ")])])])})),0)]),a("Pagenation",{attrs:{pages:t.paginationData},on:{getpage:t.getCoupon}}),a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"due_date"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.due_date,expression:"tempCoupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.tempCoupon.due_date},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"due_date",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{min:"1",max:"99",type:"number",id:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(e){var a=t.tempCoupon.is_enabled,o=e.target,s=o.checked?1:0;if(Array.isArray(a)){var r=null,n=t._i(a,r);o.checked?n<0&&t.$set(t.tempCoupon,"is_enabled",a.concat([r])):n>-1&&t.$set(t.tempCoupon,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempCoupon,"is_enabled",s)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v(" 更新優惠券 ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" (刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v(" 確認刪除 ")])])])])])],1)},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("名稱")]),a("th",[t._v("優惠碼")]),a("th",[t._v("折扣百分比")]),a("th",[t._v("到期日")]),a("th",[t._v("是否啟用")]),a("th",[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header",staticStyle:{background:"#90caff",color:"white"}},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("設定優惠券")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除優惠券")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],pe=a("5530"),ve={data:function(){return{isEdit:!1,tempCoupon:{title:"",is_enabled:"",percent:"",due_date:"",code:""},AllCoupon:[],tempdelete:"",paginationData:{}}},components:{Pagenation:wt},created:function(){this.getCoupon()},methods:{getCoupon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/coupons?page=").concat(t);e.$store.dispatch("LoadingStatus",!0),e.$http.get(a).then((function(t){e.AllCoupon=t.data.coupons,e.paginationData=t.data.pagination,e.$store.dispatch("LoadingStatus",!1)}))},openModal:function(t,e){var a=this;a.isEdit=t,!0===a.isEdit?a.tempCoupon=Object(pe["a"])({},e):a.tempCoupon={},ht()("#couponModal").modal("show")},updateCoupon:function(){var t=this,e="put",a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/coupon/").concat(t.tempCoupon.id);if(t.tempCoupon.percent>=1||t.tempCoupon.percent<=99){if(!1===t.isEdit){e="post",a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/coupon");var o=Math.floor(new Date(t.tempCoupon.due_date)/1e3);t.tempCoupon.due_date=o}t.$http[e](a,{data:t.tempCoupon}).then((function(){ht()("#couponModal").modal("hide"),t.getCoupon()}))}},opendeleteModal:function(t){this.tempCoupon=t,ht()("#delCouponModal").modal("show")},deleteCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/admin/coupon/").concat(this.tempCoupon.id);t.$http.delete(e).then((function(){ht()("#delCouponModal").modal("hide"),t.getCoupon()}))}}},fe=ve,me=Object(h["a"])(fe,de,ue,!1,null,null,null),_e=me.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"cartcontent"},[t._m(0),a("table",[t._m(1),a("tbody",[t._l(t.CartContent.carts,(function(e){return a("tr",{key:e.id},[a("td",[a("img",{attrs:{src:e.product.imgUrl,alt:e.product.title}}),a("p",[t._v(" "+t._s(e.product.title)),a("br"),t._v("單價：$"+t._s(e.product.price)+"元 ")])]),a("td",[a("div",{staticClass:"selectCount"},[a("button",{on:{click:function(a){return t.calculateProductCount("less",e.qty,e.id,e.product.id,e.product.title)}}},[t._v(" - ")]),a("span",[t._v(t._s(e.qty))]),a("button",{on:{click:function(a){return t.calculateProductCount("add",e.qty,e.id,e.product.id,e.product.title)}}},[t._v(" + ")])]),a("div",{staticClass:"phoneselect"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],attrs:{name:"",id:""},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"qty",a.target.multiple?o:o[0])},function(a){return t.calculateProductCount("select",e.qty,e.id,e.product.id,e.product.title)}]}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]),a("td",[t._v("$"+t._s(e.final_total)+" 元")]),a("td",[a("button",{staticClass:"deleteCart",on:{click:function(a){return t.deleteCartProduct(e.id,e.product.title)}}},[t._v(" 刪除 ")])])])})),t.CartContent.carts&&0===t.CartContent.carts.length?a("tr",[a("td",{staticStyle:{display:"table-cell"},attrs:{colspan:"5"}},[t._v(" 購物車沒有東西! "),a("br"),a("router-link",{attrs:{to:"/categorylist"}},[t._v("立即選購")])],1)]):t._e(),a("tr",[a("td",[t._v("總 計")]),a("td"),a("td",[t._v("$ "+t._s(t.CartContent.total)+" 元")]),a("td")])],2)]),t._m(2),a("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("div",{staticClass:"form"},[a("div",{staticClass:"inputbox leftinput"},[a("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("div",{staticClass:"textbox"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.username,expression:"order.user.username"}],staticClass:"form-control",class:s,attrs:{id:"username",type:"text",name:"username",placeholder:"輸入姓名"},domProps:{value:t.order.user.username},on:{input:function(e){e.target.composing||t.$set(t.order.user,"username",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)}),a("validation-provider",{attrs:{rules:{required:!0,regex:/^[09]{2}[0-9]{8}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.classes;return[a("div",{staticClass:"textbox"},[a("label",{attrs:{for:"tel"}},[t._v("收件人電話*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.tel,expression:"order.user.tel"}],staticClass:"form-control",class:o,attrs:{id:"tel",type:"text",name:"tel",placeholder:"輸入十碼手機號碼"},domProps:{value:t.order.user.tel},on:{input:function(e){e.target.composing||t.$set(t.order.user,"tel",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v("輸入十碼手機號碼")])])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("div",{staticClass:"textbox"},[a("label",{attrs:{for:"address"}},[t._v("收件人地址*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.address,expression:"order.user.address"}],staticClass:"form-control",class:s,attrs:{id:"address",type:"text",name:"address",placeholder:"輸入地址"},domProps:{value:t.order.user.address},on:{input:function(e){e.target.composing||t.$set(t.order.user,"address",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"inputbox rightinput"},[a("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("div",{staticClass:"textbox"},[a("label",{attrs:{for:"email"}},[t._v("Email*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.user.email,expression:"order.user.email"}],staticClass:"form-control",class:s,attrs:{id:"email",type:"email",name:"email",placeholder:"輸入信箱"},domProps:{value:t.order.user.email},on:{input:function(e){e.target.composing||t.$set(t.order.user,"email",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)}),a("validation-provider",{attrs:{rules:{required:!1}},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("div",{staticClass:"textbox"},[a("label",{attrs:{for:"message"}},[t._v("備註")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order.message,expression:"order.message"}],staticClass:"form-control",class:s,attrs:{id:"message",type:"text",name:"message",placeholder:"特殊需求"},domProps:{value:t.order.message},on:{input:function(e){e.target.composing||t.$set(t.order,"message",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)})],1),a("button",{attrs:{disabled:o},on:{click:t.submitInfo}},[t._v("送出")])])]}}])}),t.showCouponDialog?a("div",{staticClass:"couponDialog"},[a("div",{staticClass:"bg"}),a("div",{staticClass:"dialog"},[a("h2",[t._v("使用優惠券")]),a("div",{staticClass:"flb"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponcode,expression:"couponcode"}],attrs:{type:"text",placeholder:"輸入優惠碼"},domProps:{value:t.couponcode},on:{input:function(e){e.target.composing||(t.couponcode=e.target.value)}}}),a("button",{on:{click:function(e){return t.useCoupon(t.couponcode)}}},[t._v("套用")])]),a("table",[t._m(3),a("tr",[t._m(4),a("td",[t._v("五折")]),a("td",[a("button",{on:{click:function(e){return t.copycoupon("coupon50")}}},[t._v("Copy")])])]),a("tr",[t._m(5),a("td",[t._v("八折")]),a("td",[a("button",{on:{click:function(e){return t.copycoupon("coupon80")}}},[t._v("Copy")])])]),a("tr",[t._m(6),a("td",[t._v("九折")]),a("td",[a("button",{on:{click:function(e){return t.copycoupon("coupon90")}}},[t._v("Copy")])])])]),t.final_price?a("div",{staticClass:"sale"},[a("p",[t._v("原價"+t._s(t.CartContent.total)+"元")]),a("h3",[t._v("優惠價 "+t._s(t.final_price)+" 元")])]):t._e(),a("div",{staticClass:"ischeckout"},[t.final_price?t._e():a("router-link",{staticClass:"btnbox",attrs:{to:"/categorylist"}},[a("button",[t._v("再去逛逛")])]),a("div",{staticClass:"btnbox"},[a("button",{on:{click:t.goCheckout}},[t._v("結帳去")]),t.final_price?t._e():a("p",{staticClass:"nosale"},[t._v("(不使用可直接結帳)")])])],1)])]):t._e()],1),a("Footer")],1)},ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("span",[t._v("購")]),t._v("物車")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"40%"}},[t._v("品名")]),a("th",{attrs:{width:"15%"}},[t._v("數量")]),a("th",[t._v("小計")]),a("th",{attrs:{width:"20%"}},[t._v("刪除")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("span",[t._v("訂")]),t._v("購人資訊")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("名稱")]),a("td",[t._v("折數")]),a("td",[t._v("使用")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{attrs:{id:"coupon50"}},[t._v("coupon50")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{attrs:{id:"coupon80"}},[t._v("coupon80")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{attrs:{id:"coupon90"}},[t._v("coupon90")])])}],Ce={data:function(){return{order:{user:{username:"",email:"",tel:"",address:""},message:""},couponcode:"",final_price:"",showCouponDialog:!1,ProductCount:1}},components:{Navbar:z,Footer:Y},computed:{CartContent:function(){return this.$store.getters.CartContent}},created:function(){this.$store.dispatch("getCart")},methods:{copycoupon:function(t){var e=document.createRange();e.selectNode(document.getElementById(t));var a=window.getSelection();a.removeAllRanges(),a.addRange(e),document.execCommand("copy");var o={isShow:!0,type:"success",content:"已複製優惠券"};this.$store.dispatch("showalerts",o)},calculateProductCount:function(t,e,a,o,s){if("add"===t&&e<10){var r={isShow:!0,type:"success",content:"".concat(s," 更改數量")},n=e+1,i={product_id:o,qty:n};this.$store.dispatch("changeCartQty",{oldId:a,cartproduct:i,alertInfo:r})}else if("less"===t&&e>1){var c={isShow:!0,type:"success",content:"".concat(s," 更改數量")},l=e-1,d={product_id:o,qty:l};this.$store.dispatch("changeCartQty",{oldId:a,cartproduct:d,alertInfo:c})}else if("select"===t){var u={isShow:!0,type:"success",content:"".concat(s," 更改數量")},p=e,v={product_id:o,qty:p};this.$store.dispatch("changeCartQty",{oldId:a,cartproduct:v,alertInfo:u})}},deleteCartProduct:function(t,e){var a={isShow:!0,type:"success",content:"從購物車移除 ".concat(e)};this.$store.dispatch("removeFromCart",{id:t,alertInfo:a})},useCoupon:function(t){var e=this,a={code:t},o="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/coupon");e.$store.dispatch("LoadingStatus",!0),e.$http.post(o,{data:a}).then((function(t){t.data.success?(e.$store.dispatch("showalerts",{isShow:!0,type:"success",content:"以套用優惠券"}),e.$store.dispatch("LoadingStatus",!1),e.final_price=t.data.data.final_total):(e.$store.dispatch("LoadingStatus",!1),e.$store.dispatch("showalerts",{isShow:!0,type:"danger",content:t.data.message}))}))},submitInfo:function(){this.CartContent.carts&&0===this.CartContent.carts.length?this.$store.dispatch("showalerts",{isShow:!0,type:"danger",content:"購物車沒有東西"}):this.showCouponDialog=!0},goCheckout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/order");t.$store.dispatch("LoadingStatus",!0),t.$http.post(e,{data:t.order}).then((function(e){e.data.success&&(t.$store.dispatch("LoadingStatus",!1),t.$router.push("/checkout/".concat(e.data.orderId)))}))}}},be=Ce,ye=(a("4295"),Object(h["a"])(be,he,ge,!1,null,"ed267f88",null)),Pe=ye.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("div",{staticClass:"checkcontent"},[t.orderInfo.is_paid?t._e():a("div",{staticClass:"check"},[t._m(0),a("table",{staticClass:"ordertable"},[t._m(1),a("tbody",[t._l(t.orderInfo.products,(function(e){return a("tr",{key:e.id},[a("td",[a("img",{attrs:{src:e.product.imgUrl,alt:e.product.title}}),a("p",[t._v(" "+t._s(e.product.title)),a("br"),t._v("數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])]),a("td",[t._v(" NT "+t._s(e.product.price)+" 元"),a("br"),e.product.price!==e.final_total?a("span",{staticStyle:{color:"red"}},[t._v("(已套用優惠)")]):t._e()]),a("td",[t._v("NT "+t._s(e.final_total)+" 元")])])})),a("tr",[a("td",[t._v("總計")]),a("td"),a("td",[t._v("NT "+t._s(t.orderInfo.total)+" 元")])])],2)]),t._m(2),a("table",{staticClass:"userinfo"},[a("tbody",[a("tr",[a("td",[t._v("Email")]),a("td",[t._v(t._s(t.orderInfo.user.email))])]),a("tr",[a("td",[t._v("姓名")]),a("td",[t._v(t._s(t.orderInfo.user.username))])]),a("tr",[a("td",[t._v("電話")]),a("td",[t._v(t._s(t.orderInfo.user.tel))])]),a("tr",[a("td",[t._v("收件人地址")]),a("td",[t._v(t._s(t.orderInfo.user.address))])]),a("tr",[a("td",[t._v("付款狀態")]),a("td",[t.orderInfo.is_paid?t._e():a("span",{staticStyle:{color:"red"}},[t._v("尚未付款")]),t.orderInfo.is_paid?a("span",{staticStyle:{color:"#00bb00"}},[t._v("完成付款")]):t._e()])])])]),t.orderInfo.is_paid?t._e():a("button",{on:{click:t.payOrder}},[t._v("確認付款")])]),t.orderInfo.is_paid?a("div",{staticClass:"finish"},[t._m(3),a("table",{staticClass:"userinfo"},[a("tbody",[a("tr",[a("td",[t._v("Email")]),a("td",[t._v(t._s(t.orderInfo.user.email))])]),a("tr",[a("td",[t._v("姓名")]),a("td",[t._v(t._s(t.orderInfo.user.username))])]),a("tr",[a("td",[t._v("電話")]),a("td",[t._v(t._s(t.orderInfo.user.tel))])]),a("tr",[a("td",[t._v("收件人地址")]),a("td",[t._v(t._s(t.orderInfo.user.address))])]),a("tr",[a("td",[t._v("付款時間")]),a("td",[t._v(t._s(t._f("totime")(t.orderInfo.paid_date)))])]),a("tr",[a("td",[t._v("訂單金額")]),a("td",[t._v("NT "+t._s(t.orderInfo.total)+" 元")])])])]),a("router-link",{attrs:{to:"/"}},[t.orderInfo.is_paid?a("button",[t._v("繼續逛逛")]):t._e()])],1):t._e()]),a("Footer")],1)},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("span",[t._v("確")]),t._v("認訂單")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"40%"}},[t._v("品名")]),a("th",[t._v("單價")]),a("th",[t._v("小計")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("span",[t._v("訂")]),t._v("購人資訊")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("i",{staticClass:"fas fa-check-circle"}),a("br"),a("span",[t._v("完")]),t._v("成付款")])}],ke={components:{Navbar:z,Footer:Y},data:function(){return{orderId:"",orderInfo:{user:{}}}},created:function(){this.orderId=this.$route.params.id,this.getorder()},methods:{getorder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/order/").concat(t.orderId);t.$store.dispatch("LoadingStatus",!0),t.$http.get(e).then((function(e){t.$store.dispatch("LoadingStatus",!1),t.orderInfo=e.data.order}))},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/pay/").concat(t.orderId);t.$store.dispatch("LoadingStatus",!0),t.$http.post(e).then((function(){t.$store.dispatch("LoadingStatus",!1),t.getorder()}))}}},$e=ke,Ie=(a("05aa"),Object(h["a"])($e,we,xe,!1,null,"26704288",null)),Se=Ie.exports,Le=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Navbar"),o("div",{staticClass:"contain"},[o("Slick"),o("div",{staticClass:"list"},[0===t.FavoriteProduct.length?o("div",{staticClass:"empty"},[t._m(0),t._m(1),o("div",{staticClass:"link"},[o("router-link",{attrs:{to:"categorylist"}},[t._v("立即選購")])],1),o("img",{attrs:{src:a("4478"),alt:"目前無願望清單"}})]):t._e(),0!==t.FavoriteProduct.length?o("h2",[o("span",[t._v("願")]),t._v("望清單")]):t._e(),t._l(t.FavoriteProduct,(function(e){return o("ProductCard",{key:e.id,attrs:{productInfo:e},on:{setPreviewProduct:t.getPreviewProduct,sendremoveID:t.getremoveID}})})),0!==t.FavoriteProduct.length?o("router-link",{staticClass:"continue",attrs:{to:"categorylist"}},[o("span",[t._v("繼續購物")])]):t._e(),o("div",{staticClass:"productCard"}),o("div",{staticClass:"productCard"}),o("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeIn animate__faster","leave-active-class":"animate__animated animate__fadeOut animate__faster"}},[!0===t.showPreview?o("div",{staticClass:"previewbox"},[o("div",{staticClass:"dialogBg",on:{click:function(e){t.showPreview=!1}}}),o("div",{staticClass:"dialog"},[o("i",{staticClass:"fas fa-times",on:{click:function(e){t.showPreview=!1}}}),o("PreviewModal",{attrs:{previewData:t.PreviewProduct}})],1)]):t._e()])],2)],1),o("Footer")],1)},Ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",[t._v("目前無願望清單")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",[t._v("點擊「追蹤」，即可加入願望清單")])])}],Oe={components:{Slick:U,Navbar:z,ProductCard:Rt,PreviewModal:Xt,Footer:Y},data:function(){return{FavoriteProduct:[],PreviewProduct:{},showPreview:!1,favoriteID:[]}},created:function(){this.favoriteID=JSON.parse(localStorage.getItem("id")),this.getFavoriteProduct()},methods:{getFavoriteProduct:function(){var t=this,e=[];t.favoriteID.forEach((function(a){var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/product/").concat(a);t.$http.get(o).then((function(t){e.push(t.data.product)}))})),t.FavoriteProduct=e},getPreviewProduct:function(t){this.PreviewProduct=t,this.showPreview=!0},getremoveID:function(t){var e=this;this.FavoriteProduct.forEach((function(a,o){a.id===t&&e.FavoriteProduct.splice(o,1)}))}}},De=Oe,je=(a("12d4"),Object(h["a"])(De,Le,Ee,!1,null,"8b729250",null)),Me=je.exports,Ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"contain"},[o("Navbar"),o("div",{staticClass:"imgbox"},[o("img",{attrs:{src:a("8f20"),alt:"Error"}}),o("router-link",{attrs:{to:"/"}},[t._v(" 回首頁 ")])],1),o("Footer")],1)},Ne=[],Fe={components:{Navbar:z,Footer:Y}},qe=Fe,Te=(a("f2fa"),Object(h["a"])(qe,Ae,Ne,!1,null,"74f58e3c",null)),Ue=Te.exports;o["default"].use(O["a"]);var Ke=[{path:"/",name:"Home",component:et},{path:"/dashboard",name:"Dashboard",component:vt,children:[{path:"product",name:"Product",component:It,meta:{requiresAuth:!0}},{path:"order",name:"Order",component:Tt,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:_e,meta:{requiresAuth:!0}}]},{path:"/categorylist",name:"Categorylist",component:oe},{path:"/categorylist/:productid",name:"ProductInfo",component:le},{path:"/favorite",name:"Favorite",component:Me},{path:"/cart",name:"Cart",component:Pe},{path:"/checkout/:id",name:"Checkout",component:Se},{path:"/login",name:"Login",component:jt},{path:"/error",name:"Error",component:Ue},{path:"*",redirect:"/"}],Qe=new O["a"]({routes:Ke}),Be=Qe,Je=a("2f62");o["default"].use(Je["a"]);var He=new Je["a"].Store({state:{products:[],Allproducts:[],Category:[],CartContent:[],isLoading:!1,Alert:{isShow:!1,type:"",content:""},LocalId:[]},mutations:{setProduct:function(t,e){t.products=e},setAllProduct:function(t,e){t.Allproducts=e},setCategory:function(t,e){t.Category=e},setCartContent:function(t,e){t.CartContent=e},setLoadingStatus:function(t,e){t.isLoading=e},setAlert:function(t,e){t.Alert=e},setLocalId:function(t,e){t.LocalId=e}},actions:{LoadingStatus:function(t,e){var a=t.commit;a("setLoadingStatus",e)},getProduct:function(t){var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e("setLoadingStatus",!0),r.a.get("".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/products?page=").concat(a)).then((function(t){e("setProduct",t.data),e("setLoadingStatus",!1)}))},getAll:function(t){var e=t.commit;e("setLoadingStatus",!0),r.a.get("".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/products/all")).then((function(t){return e("setAllProduct",t.data),t.data})).then((function(t){var a=t.products,o=new Set,s=a.filter((function(t){return!o.has(t.category)&&o.add(t.category)}));e("setCategory",s),e("setLoadingStatus",!1)}))},getCart:function(t){var e=t.commit,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/cart");e("setLoadingStatus",!0),r.a.get(a).then((function(t){e("setCartContent",t.data.data),e("setLoadingStatus",!1)}))},addToCart:function(t,e){var a=e.cartcontent,o=e.alertInfo,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/cart");t.commit("setLoadingStatus",!0),r.a.post(s,{data:a}).then((function(){t.commit("setLoadingStatus",!1),t.dispatch("showalerts",o),t.dispatch("getCart")}))},changeCartQty:function(t,e){var a=e.oldId,o=e.cartproduct,s=e.alertInfo,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/cart/").concat(a),i="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/cart/");t.commit("setLoadingStatus",!0),r.a.all([r.a.delete(n),r.a.post(i,{data:o})]).then(r.a.spread((function(){t.commit("setLoadingStatus",!1),t.dispatch("showalerts",s),t.dispatch("getCart")})))},removeFromCart:function(t,e){var a=e.id,o=e.alertInfo,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("kart1228","/cart/").concat(a);t.commit("setLoadingStatus",!0),r.a.delete(s).then((function(){t.commit("setLoadingStatus",!1),t.dispatch("showalerts",o),t.dispatch("getCart")}))},showalerts:function(t,e){var a=t.commit;a("setAlert",e),setTimeout((function(){a("setAlert",{isShow:!1})}),3e3)},getLocalStorage:function(t){var e=t.commit,a=JSON.parse(localStorage.getItem("id"));e("setLocalId",a)}},modules:{},getters:{products:function(t){return t.products},Allproducts:function(t){return t.Allproducts},Category:function(t){return t.Category},CartContent:function(t){return t.CartContent},isLoading:function(t){return t.isLoading},Alert:function(t){return t.Alert},LocalId:function(t){return t.LocalId}}}),ze=(a("a9e3"),a("b680"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var o=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return o})))}),Re=(a("1276"),function(t){return t.split("").splice(0,t.length-2).join("")}),Ve=function(t){var e=new Date(1e3*t);return"".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate())},We=function(t){var e=new Date(1e3*t);return"".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes())};o["default"].use(l.a),o["default"].use(i.a,r.a),o["default"].config.productionTip=!1,r.a.defaults.withCredentials=!0,o["default"].filter("currency",ze),o["default"].filter("lastword",Re),o["default"].filter("datefilter",Ve),o["default"].filter("totime",We),Object.keys(p).forEach((function(t){Object(d["d"])(t,p[t])})),Object(d["e"])("zh_TW",u),o["default"].component("ValidationObserver",d["a"]),o["default"].component("ValidationProvider",d["b"]),Object(d["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),new o["default"]({router:Be,store:He,render:function(t){return t(E)}}).$mount("#app"),Be.beforeEach((function(t,e,a){if(t.path.requiresAuth){var o="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(o).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";a("9c0c")},"62b1":function(t,e,a){},"68b5":function(t,e,a){t.exports=a.p+"img/p8.78f6c511.jpg"},"8c1d":function(t,e,a){"use strict";a("9aeb")},"8d00":function(t,e,a){},"8f20":function(t,e,a){t.exports=a.p+"img/404.2eb70de6.png"},"94a8":function(t,e,a){"use strict";a("c9d3")},"96f3":function(t,e,a){},"9aeb":function(t,e,a){},"9c0c":function(t,e,a){},a11d:function(t,e,a){},a43c:function(t,e,a){t.exports=a.p+"img/p6.01305e50.jpg"},ad59:function(t,e,a){"use strict";a("bafb")},b045:function(t,e,a){},b12f:function(t,e,a){},bafb:function(t,e,a){},bc47:function(t,e,a){t.exports=a.p+"img/p9.c7e19bd0.jpg"},bc85:function(t,e,a){"use strict";a("1186")},c4f2:function(t,e,a){},c9d3:function(t,e,a){},cc18:function(t,e,a){},dd85:function(t,e,a){},ddbe:function(t,e,a){"use strict";a("56cf")},e0a1:function(t,e,a){t.exports=a.p+"img/p2.c9802c59.jpg"},eea6:function(t,e,a){"use strict";a("8d00")},f030:function(t,e,a){t.exports=a.p+"img/p1.6cf138c3.jpg"},f2fa:function(t,e,a){"use strict";a("b045")},f377:function(t,e,a){"use strict";a("c4f2")},f87f:function(t,e,a){t.exports=a.p+"img/p21.ba200b36.jpg"},f8b2:function(t,e,a){t.exports=a.p+"img/loading.f19b99b7.gif"},fa19:function(t,e,a){"use strict";a("96f3")},fa5f:function(t,e,a){"use strict";a("4b56")}});
//# sourceMappingURL=app.19cb4b07.js.map